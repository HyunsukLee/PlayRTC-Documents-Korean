<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial - Simple Video Chat - PlayRTC Documents</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> PlayRTC Documents</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../hello-world/">Hello PlayRTC!</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Concepts</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../concepts/about/">About</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../concepts/migrate-1x-to-2x/">Migrate 1.x to 2.x</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Browser</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../browser/dev-env/">Development Environment</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../browser/simple-video-chat/">Tutorial - Simple Video Chat</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../browser/ie-support/">Microsoft Internet Explorer Support</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../browser/migrate-1x-to-2x/">Migrate 1.x to 2.x</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Android</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dev-env/">Development Environment</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Tutorial - Simple Video Chat</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#_1">영상/음성 통화 안드로이드 앱 만들기</a></li>
                
                    <li><a class="toctree-l4" href="#sdk-application-manifest">SDK 사용을 위한 Application Manifest 작업</a></li>
                
                    <li><a class="toctree-l4" href="#playrtc-application">PlayRTC Application 주요 개발 단계</a></li>
                
                    <li><a class="toctree-l4" href="#playrtc">PlayRTC 객체 생성</a></li>
                
                    <li><a class="toctree-l4" href="#playrtcsetting">PlayRTCSetting 개체를 이용한 서비스 설정</a></li>
                
                    <li><a class="toctree-l4" href="#playrtc-p2p">PlayRTC P2P 연결을 위한 채널 서비스 입장 및 이벤트처리</a></li>
                
                    <li><a class="toctree-l4" href="#playrtc_1">PlayRTC의 미디어 스트림의 영상 출력 처리</a></li>
                
                    <li><a class="toctree-l4" href="#playrtc_2">PlayRTC 연결 종료</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../migrate-1x-to-2x/">Migrate 1.x to 2.x</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>iOS</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ios/dev-env/">Development Environment</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ios/simple-video-chat/">Tutorial - Simple Video Chat</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">PlayRTC Documents</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Android &raquo;</li>
        
      
    
    <li>Tutorial - Simple Video Chat</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="_1">영상/음성 통화 안드로이드 앱 만들기</h1>
<h2 id="sdk-application-manifest">SDK 사용을 위한 Application Manifest 작업</h2>
<p>Application Manifest에 아래와 같은 Permissions 항목 추가합니다.</p>
<pre><code class="XML">&lt;!-- PlayRTC SDK Android-SDK --&gt;
&lt;uses-sdk android:minSdkVersion=&quot;11&quot; android:targetSdkVersion=&quot;19&quot; /&gt;

&lt;!-- PlayRTC SDK permission START --&gt;
&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;
&lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;
&lt;uses-feature android:glEsVersion=&quot;0x00020000&quot; android:required=&quot;true&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;
&lt;!-- PlayRTC SDK permission END --&gt;
</code></pre>

<h2 id="playrtc-application">PlayRTC Application 주요 개발 단계</h2>
<p>com.sktelecom.playrtc.PlayRTC는 PlayRTC SDK에서 가장 중요한 Class입니다. PlayRTC 클래스를 이용하여 P2P 연결에 필요한 각종 작업을 수행하고 명령을 내립니다. 또한 PlayRTCObserver 인터페이스를 구현한 클래스를 등록하여 내부의 CallBack 이벤트를 처리할 수 있습니다. 아래는 PlayRTC 클래스를 이용하여 작업하게 될 대부분의 일을 간단하게 정리하였습니다.</p>
<ol>
<li>
<p>PlayRTC 객체 생성</p>
<ul>
<li>먼저 PlayRTC 객체를 생성하려면 PlayRTCFactory의 newInstance 메소드로 객체를 생성합니다.</li>
</ul>
</li>
<li>
<p>서비스 설정</p>
<ul>
<li>PlayRTC 인터페이스를 통해서 기본 값이 설정되어 있는 PlayRTCSettings 개체를 얻어와 구현하는 서비스에 맞게  설정 값을 지정할 수 있으며, PlayRTCSettings 객체에 지정한 값은 내부적으로 PlayRTC 플랫폼 서비스에서 조회한 서비스 설정에 우선하여 적용됩니다.</li>
</ul>
</li>
<li>
<p>PlayRTC 플랫폼 서비스 채널 입장</p>
<ul>
<li>PlayRTC 플랫폼 채널 서비스에 새로운 채널을 생성하고 입장을 하거나, 기존의 만들어진 채널에 입장하여 P2P연결 수립을 수행합니다.  한 사용자는 채널을 생성하여야 하고, 다은 사용자는 만들어진 채널의 아이디로 채널에 입장을 합니다. 채널의 아이디는 PlayRTCObserver의 onConnectChannel에서 확인 할 수 있습니다.</li>
</ul>
</li>
<li>
<p>로컬미디어스트림 출력</p>
<ul>
<li>채널 서버에 연결 되면 SDK는 로컬 영상/음성 스트림을 제어를 위한 개체를 생성하여 PlayRTCObserver의 onAddLocalStream 을 통해 PlayRTCMedia인터페이스를 전달하며, 전달 받은 PlayRTCMedia에 영상 출력 뷰의 렌더러를 전달하여 영상을 출력하도록 해야 합니다.</li>
</ul>
</li>
<li>
<p>연결수립 후 원격미디어스트림 출력</p>
<ul>
<li>P2P연결 수립 후 상대방의 영상/음성 스트림을 제어를 위한 개체를 생성하여 PlayRTCObserver의 onAddRemoteStream을 통해 PlayRTCMedia인터페이스를 전달하며, 전달 받은 PlayRTCMedia에 영상 출력 뷰의 렌더러를 전달하여 영상을 출력하도록 해야 합니다.</li>
</ul>
</li>
<li>
<p>상대방과의연결종료처리</p>
<ul>
<li>PlayRTC의 disconnectChannel을 호출하여 채널에서 퇴장하거나 deleteChannel을 호출하여 채널을 종료하여 상대방과의 연결을 종료하도록합니다.</li>
</ul>
</li>
</ol>
<p>이제 좀 더 자세하게 PlayRTC 클래스를 이용하는 방법을 차근차근히 살펴보겠습니다. 아래의 과정은 이해를 돕기위해 하나의 액티비티안에 모든 구현을 담고 있음을 알려둡니다.</p>
<h2 id="playrtc">PlayRTC 객체 생성</h2>
<p>PlayRTC SDK의 PlayRTCFactory Class의 newInstance 메소드를 이용하여 PlayRTC 객체를 생성할 수 있습니다. newInstance의 파라미터값은 보통 2개입니다.</p>
<p>첫번째 파라미터값은 서비스 서버의 RESTful API 주소입니다.</p>
<p>두번째 파라미터값은 Callback 이벤트 처리를 위한 observer 클래스를 등록합니다. PlayRTCObserver 인터페이스를 구현한 클래스가 필요합니다. 이 클래스를 통해서 통신 상태에 대한 여러가지 이벤트를 수신할 수 있습니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">private PlayRTC playrtc;

try {
    playrtc = PlayRTCFactory.newInstance(playrtcObserver);
} catch (UnsupportedPlatformVersionException e) {
    e.printStackTrace();
} catch (RequiredParameterMissingException e) {
    e.printStackTrace();
}
</code></pre>

<h2 id="playrtcsetting">PlayRTCSetting 개체를 이용한 서비스 설정</h2>
<p>PlayRTC 객체를 생성하고 나면 getSettings() 메소드를 호출하여 PlayRTC에 설정해둔 기본적인 세팅값들을 가져올 수 있습니다. 즉 getSettings 메소드를 호출하면 PlayRTCSettings 객체를 얻을 수 있습니다. createChannel이나 connectChannel등의 메소드를 호출하는 채널작업을 하기 전에 이 객체를 수정하게 되면 수정된 값을 이용하여 채널 작업을 수행할 수 있게 됩니다.</p>
<p>PlayRTCSetting의 주요 설정 항목은 다음과 같습니다.</p>
<ul>
<li>Android Application Context</li>
<li>PlayRTC 미디어 서비스 관련 설정 – 사용자 재지정</li>
<li>PlayRTC 로깅 설정 – 사용자 지정</li>
</ul>
<h3 id="playrtcsetting_1">PlayRTCSetting 개체 구하기</h3>
<p>PlayRTC 구현 객체를 생성한 후 PlayRTC의 getSettings() 메소드를 호출하여 PlayRTCSetting 개체를 얻어와 구현할 서비스에 맞게 설정 항목을 설정할 수 있습니다. PlayRTCSetting 개체는 기본값으로 초기화 되어 있는 상태입니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">private void setPlayRTCConfiguration() {
    PlayRTCSettings settings = playrtc.getSettings();

    // PlayRTC instance have to get the application context.
    settings.android.setContext(getApplicationContext());

    // T Developers Project Key.
    settings.setTDCProjectId(&quot;60ba608a-e228-4530-8711-fa38004719c1&quot;);

    settings.setAudioEnable(true);
    settings.setVideoEnable(true);
    settings.video.setFrontCameraEnable(true);
    settings.video.setBackCameraEnable(true);
    settings.setDataEnable(false);
}
</code></pre>

<h2 id="playrtc-p2p">PlayRTC P2P 연결을 위한 채널 서비스 입장 및 이벤트처리</h2>
<p>먼저 채널에 입장히는 사용자가 채널을 생성해야 하며 다른 사용자는 생성된 채널의 아이디로 채널에 입장을 하여 P2P연결을 합니다.</p>
<h3 id="user-a">신규 채널을 생성하고 입장하기 – USER A</h3>
<p>PlayRTC 플랫폼 채널 서비스에 채널을 새로 생성하고 입장하는 메소드는 PlayRTC.createChannel 입니다. 이 메소드를 호출하면 USER A를 위한 채팅방이 채널서버에 만들어진다고 보면 됩니다. 이 요청은 서비스서버를 거쳐서 채널서버로 전달됩니다. 채널서버는 채널id와 USER A에게 할당된 토큰값등을 반환해줄 것입니다. 가장 기본적인 사용법은 아무런 입력값 없이 null을 입력하여 createChannel(null) 메소드 호출하여 채널을 생성하는 방법이 있습니다.</p>
<p>하지만 PlayRTC는 부가적인 채널이나 peer정보등을 이 createChannel 메소드에 실어서 채널서버에  저장할 수 있도록 하고 있습니다. 즉, createChannel 호출 시 채널 및 채널 사용자의 부가 정보를 같이 전달하여 채널/사용자 정보 조회 시 받아볼 수 있습니다.</p>
<p>createChannel 메소드를 호출하면 PlayRTC는 새로 생성한 채널의 id를 PlayRTCObserver의 onConnectChannel 메소드를 통해 전달해 줍니다. 이때 전달 받은 채널id는 USER B가 connectChannel로 채널에 입장할 때 사용해야 하는  채널 아이디입니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">private void createChannel() {
    try {
        // createChannel must have a JSON Object
        playrtc.createChannel(new JSONObject());
    } catch (RequiredConfigMissingException e) {
        e.printStackTrace();
    }
}
</code></pre>

<h3 id="user-b">만들어진 채널에 입장하기 – USER B</h3>
<p>이미 생성된 채널에 입장히는 메소드는 connectChannel 입니다.</p>
<p>connectChannel  호출 시  해당 채널 아이디가 필요합니다.  채널 사용자의 부가 정보를 같이 전달하여 채널/사용자  정보 조회 시 받아볼 수 있습니다. connectChannel가 잘 수행되면 onConnectChannel 메소드를 통해 보안등을 위한 채널 사용자 토큰정보등을 받을 수 있으므로 잘 보관해둬야 합니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">private void connectChannel() {
    try {
        channelId = &quot;CHS1234567890&quot;;
        // connectChannel must have a JSON Object
        playrtc.connectChannel(channelId, new JSONObject());
    } catch (RequiredConfigMissingException e) {
        e.printStackTrace();
    }
}
</code></pre>

<h2 id="playrtc_1">PlayRTC의 미디어 스트림의 영상 출력 처리</h2>
<p>SDK는  영상/음성 스트림을 위한 내부 개체를 생성 후  PlayRTCMedia 인터페이스를 onAddLocalStream 또는 onAddRemoteStream 를 통해서 전달합니다. PlayRTCMedia를 전달 받으면 PlayRTCMedia객체에 영상 출력 뷰(PlayRTCVieoView)의 렌더러 인터페이스를 전달하여 영상을 출력하도록 처리해야 합니다.</p>
<h3 id="playrtcvideoview">영상 출력을 위한 PlayRTCVideoView 객체 생성</h3>
<p>PlayRTC SDK는 영상 스트림을 출력하는 PlayRTCVieoView Class를 제공합니다.
PlayRTCVideoView는 생성자에 Context와 View 크기를 지정한 Point 를 전달해야 합니다. Sample 예에서는 View 인스턴스 생성을 onCreated에서 하지 않고 뷰의 화면 크기를 계산하여 지정할 수 있는 Activity의 onWindowFocusChanged 에서 생성 하였습니다. 생성 한 PlayRTCVideoView는  PARENT_VIEW에 자식 View로 추가합니다.</p>
<p>뷰 배치는 상대방 스트림 View 위에 로컬 스트림을 출력하는 작은 View를 배치하도록 구성하겠습니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">private void createVideoView() {
    // Set the videoViewGroup which is contained local and remote video views.
    videoViewGroup = (RelativeLayout) findViewById(R.id.video_view_group);

    if (localView != null) {
        return;
    }

    // Set the size.
    Point screenDimensions = new Point();
    screenDimensions.x = videoViewGroup.getWidth();
    screenDimensions.y = videoViewGroup.getHeight();

    if (remoteView == null) {
        createRemoteVideoView(screenDimensions, videoViewGroup);
    }

    if (localView == null) {
        createLocalVideoView(screenDimensions, videoViewGroup);
    }
}
</code></pre>

<h3 id="local-playrtcobserveronaddlocalstream">Local 영상 미디어 스트림 출력 – PlayRTCObserver.onAddLocalStream</h3>
<p>PlayRTCMedia 개체에 영상 출력 처리를 위해 PlayRTCVieoView의 렌더러 인터페이스를 전달합니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">private void createLocalVideoView(final Point screenDimensions, RelativeLayout videoViewGroup) {
    if (localView == null) {
        // Set the size.
        Point displaySize = new Point();
        displaySize.x = (int) (screenDimensions.x * 0.3);
        displaySize.y = (int) (screenDimensions.y * 0.3);

        // Set the position.
        RelativeLayout.LayoutParams param = new RelativeLayout.LayoutParams(displaySize.x, displaySize.y);
        param.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
        param.addRule(RelativeLayout.ALIGN_PARENT_TOP);
        param.setMargins(30, 30, 30, 30);

        // Create the localView.
        localView = new PlayRTCVideoView(videoViewGroup.getContext(), displaySize);

        // Set the layout parameters and add the view to the videoViewGrop.
        localView.setLayoutParams(param);
        videoViewGroup.addView(localView);

        // Set the z-order.
        localView.setZOrderMediaOverlay(true);
    }
}
</code></pre>

<h3 id="remote-playrtcobserveronaddremotestream">Remote 영상 미디어 스트림 출력 – PLayRTCObserver.onAddRemoteStream</h3>
<p>PlayRTCMedia 에 영상 출력 처리를 위해 PlayRTCVieoView의 렌더러 인터페이스를 전달합니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">private void createRemoteVideoView(final Point screenDimensions, RelativeLayout viewGroup) {
    if (remoteView == null) {
        // Set the size.
        Point displaySize = new Point();
        displaySize.x = (int) (screenDimensions.x);
        displaySize.y = (int) (screenDimensions.y);

        // Set the position.
        RelativeLayout.LayoutParams param = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.MATCH_PARENT);

        // Create the remoteView.
        remoteView = new PlayRTCVideoView(viewGroup.getContext(), displaySize);

        // Set the layout parameters and add the view to the videoViewGroup.
        remoteView.setLayoutParams(param);
        viewGroup.addView(remoteView);
    }
}
</code></pre>

<h2 id="playrtc_2">PlayRTC 연결 종료</h2>
<p>PlayRTC에서 상대방과 연결을 종료하는 경우는 다음의 경우가 있습니다.</p>
<ol>
<li>
<p>상대방이 채널에서 퇴장 하는 경우 – 채널이 유효한 상태</p>
<ul>
<li>상대방이 disconnectChannel를 호출하면 SDK는 채널 서비스로부터 채널 퇴장 이벤트를 받아 채널에서 퇴장하며, 채널 서비스는 나에게 상대방의 채널 퇴장을 알리는 이벤트(onOtherDisconnectChannel)를 보내 줍니다.</li>
</ul>
</li>
<li>
<p>자신이 채널에서 퇴장하는 경우 – 채널이 유효한 상태</p>
<ul>
<li>disconnectChannel을 호출하면 SDK는 채널 서비스로부터 채널 퇴장 이벤트(onDisconnectChannel)를 받아 채널에서 퇴장하고, 채널 서비스는 상대방에게도 나의 채널 퇴장 이벤트(onOtherDisconnectChannel)를 전달하게 됩니다. 상대방은 이 이벤트를 받아 나의 채널 퇴장을 알게 됩니다.</li>
</ul>
</li>
<li>
<p>상대방 또는 자신이 채널을 종료 하는 경우 – 예제에서의 채널 종료 방법</p>
<ul>
<li>deleteChannel을 호출하면 채널 서비스는 채널에 입장한 모든 사용자에게 채널 종료를 통보(onDisconnectChannel)하고 채널에 있는 모든 사용자의 연결을 종료합니다. 이때 각각의 사용자는 종료하는 과정을 진행합니다.</li>
</ul>
</li>
</ol>
<h3 id="playrtc_3">채널 종료를 이용한 PlayRTC 연결 종료</h3>
<p>Android 단말기의 Back-Key를 이용하여 종료과정을 구현합니다. boolean isCloseAction이라는 멤버 변수를 선언한 후 onBackPressed에서 isCloseActivity 값을 확인하여 false이면 사용자에게 종료 의사를 물어보는 다이얼로그를 화면에 출력하고, 사용자가 확인을 선택하면 deleteChannel을 호출하여 채널 종료를요청합니다.</p>
<p>채널 서비스에서 채널 종료 이벤트(onDeleteChannel)를 받으면  isCloseActivity을 true로 설정하여 onBackPressed를 호출합니다.</p>
<p>다음과 같은 형태로 구현할 수 있습니다.</p>
<pre><code class="Android">@Override
public void onBackPressed() {
    if (isCloseActivity) {
        super.onBackPressed();
    } else {
        this.createCloseAlertDialog();
        closeAlertDialog.show();
    }
}

private void createCloseAlertDialog() {
    // Create the Alert Builder.
    AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);

    // Set a Alert.
    alertDialogBuilder.setTitle(R.string.alert_title);
    alertDialogBuilder.setMessage(R.string.alert_message);
    alertDialogBuilder.setPositiveButton(R.string.alert_positive, new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialogInterface, int id) {
            dialogInterface.dismiss();
            if (isChannelConnected == true) {
                isCloseActivity = false;

                // null means my user id.
                playrtc.disconnectChannel(null);
            } else {
                isCloseActivity = true;
                onBackPressed();
            }
        }
    });
    alertDialogBuilder.setNegativeButton(R.string.alert_negative, new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialogInterface, int id) {
            dialogInterface.dismiss();
            isCloseActivity = false;
        }
    });

    // Create the Alert.
    closeAlertDialog = alertDialogBuilder.create();
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../migrate-1x-to-2x/" class="btn btn-neutral float-right" title="Migrate 1.x to 2.x"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../dev-env/" class="btn btn-neutral" title="Development Environment"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../dev-env/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../migrate-1x-to-2x/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
